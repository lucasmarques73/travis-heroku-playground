language: go

go:
  - "1.11.x"

addons:
  sonarcloud:
    organization: "lucasmarques73-github" # the key of the org you chose at step #3
    token:
      secure: $SONAR_KEY 

script:
  - go test -v ./...
  - go test -coverprofile=reports/coverage.out
  - go test -json > reports/report.json
  - sonar-scanner

deploy:
  provider: heroku
  api-key: 
    secure: $HEROKU_API_KEY
app: travis-heroku-playground